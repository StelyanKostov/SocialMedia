@using Microsoft.AspNetCore.Identity
@using SocialMedia.Data
@inject SignInManager<ApplicationUser> SignInManager
@model List<SocialMedia.ViewModels.Image.ImageViewModel>

@{
    ViewData["Title"] = "Home Page";
}

@*@section style{
    <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css">

}*@

<div class="mx-auto" style="width: 360px;">


    @if (SignInManager.IsSignedIn(this.User))
    {
        <input type="hidden" class="user-id" value="@SignInManager.UserManager.GetUserId(this.User)" />
    }
    @foreach (var item in Model.OrderByDescending(x => x.CreatedOn).ToList())
    {



        @*<div class="col-sm-4 border">

                <a asp-controller="Profil" asp-action="OpenProfil" asp-route-id="@item.Profil.id">
                    <h3>@item.Profil.UserName</h3>
                    <div class="text-center">
                        <img src="~/images/ProfilImage/@item.Profil.UserName/@item.Id.@item.Extension" alt="Alternate Text" width="100%" class="rounded" />
                    </div>

                </a>
            </div>*@
        <div class="card" style="width: 30rem;  margin-top: 20px !important">
            <a asp-controller="Profil" asp-action="OpenProfil" asp-route-id="@item.Profil.id">

                <h5 class="font-italic">@item.Profil.UserName</h5>
                <img class="card-img-top" src="~/images/ProfilImage/@item.Profil.UserName/@item.Id.@item.Extension" alt="Card image cap">
                <input type="hidden" class="img-id" value="@item.Id" />


            </a>
            <div class="card-body">
                <p class="card-text">@item.Description</p>
            </div>

            @*<i class="far fa-thumbs-up"></i>*@
            @if (SignInManager.IsSignedIn(User))
            {
                <nav>
                    <button class="btn btn-primary btn-lg button-like" type="button"><i class="fas fa-thumbs-up" style="font-size:25px"> @item.Likes.Count()</i></button>

                    <button class="btn btn-primary btn-lg button-comments" type="button">  <i class="fas fa-comments" style="font-size:25px"> @item.Comments.Count()</i></button>
                </nav>

                @*<button type="submit" class="button-comments bnt btn-primary">Comments</button>*@

            }

        </div>


        <div style=" margin-top: 10 !important;">

        </div>
    }


</div>

@section Scripts{

    <script src="~/scripts/Home/comments.js"></script>
    <script src="~/scripts/Home/likes.js"></script>

}
